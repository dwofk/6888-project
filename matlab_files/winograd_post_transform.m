% M00 = 1;
% M01 = 2;
% M02 = 3;
% M03 = 4;
% M10 = 5;
% M11 = 6;
% M12 = 7;
% M13 = 8;
% M20 = 9;
% M21 = 10;
% M22 = 11;
% M23 = 12;
% M30 = 13;
% M31 = 14;
% M32 = 15;
% M33 = 16;

syms M00 M01 M02 M03 M10 M11 M12 M13 M20 M21 M22 M23 M30 M31 M32 M33

M = [M00 M01 M02 M03; M10 M11 M12 M13; M20 M21 M22 M23; M30 M31 M32 M33]
A = [1 0; 1 1; 1 -1; 0 -1]
A_T = transpose(A)

y = A_T*M*A

y00 = M00+M01+M02+M10+M11+M12+M20+M21+M22;
y01 = M01-M02-M03+M11-M12-M13+M21-M22-M23;
y10 = M10+M11+M12-M20-M21-M22-M30-M31-M32;
y11 = M11-M12-M13-M21+M22+M23-M31+M32+M33;

y_hard = [y00 y01; y10 y11]